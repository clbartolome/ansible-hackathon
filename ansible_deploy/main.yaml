---
- name: Deploy Ansible Hackathon Environment
  hosts: localhost
  connection: local
  gather_facts: no
  vars_files: vars.yaml
  environment:
    AWS_ACCESS_KEY_ID: "{{ access_key }}"
    AWS_SECRET_ACCESS_KEY: "{{ secret_key }}"
    AWS_REGION: "{{ region }}"
    CONTROLLER_HOST: "{{ host }}"
    CONTROLLER_USERNAME: "{{ username }}"
    CONTROLLER_PASSWORD: "{{ password }}"
    CONTROLLER_VERIFY_SSL: "{{ verify_ssl }}"

  tasks:

#    - name: Deploy Openshift Infra
#      ansible.builtin.include_role:
#        name: deploy_ocp_infra
    
#    - name: Deploy AWS Infra
#      ansible.builtin.include_role: 
#        name: deploy_aws_infra

    - name: Configure Ansible Controller
      ansible.builtin.include_role:
        name: controller_casc




